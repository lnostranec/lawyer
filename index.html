<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ваш личный онлайн‑юрист</title>
  <link rel="stylesheet" href="legal.css" />
</head>
<body>
  <header class="header">
    <div class="container header__inner">
      <div class="header__left">
        <div class="logo">
          <div class="logo__mark"></div>
          <div class="logo__text">
            <span class="logo__title">Юридическая помощь</span>
            <span class="logo__subtitle">по Нижнему Новгороду и области</span>
          </div>
        </div>
      </div>
      <div class="header__right">
        <div class="header__status header__status--online">Сейчас работаем, звоните</div>
        <a href="tel:+79082371267" class="header__phone">+7 (908) 237‑12‑67</a>
        <a href="#hero-form" class="btn btn--outline header__cta">Спросить юриста</a>
      </div>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero__inner">
        <div class="hero__content">
          <h1 class="hero__title">
            Ваш личный<br />
            онлайн‑юрист по всем трудным вопросам
          </h1>
          <p class="hero__subtitle">
            Решаем юридические споры быстро, грамотно и с человеческим подходом.
          </p>
          <a href="#hero-form" class="btn btn--primary hero__btn">Спросить юриста бесплатно</a>
          <p class="hero__consent">
            Нажимая на кнопку, вы даёте согласие на обработку персональных данных
          </p>
        </div>

        <div class="hero__form-wrap" id="hero-form">
          <img
            src="pictures/31232.webp"
            alt="Юрист консультирует клиента"
            class="hero__image"
          />
        </div>
      </div>
    </section>

    <section class="section services">
      <div class="container">
        <h2 class="section__title">Выберите свою ситуацию</h2>
        <p class="section__subtitle">
          Мы разъясним ваши права и обязанности и предложим понятные решения.
        </p>
        <div class="services__grid">
          <article class="service-card">
            <h3 class="service-card__title">Автоюрист</h3>
            <p class="service-card__text">
              ДТП, споры со страховыми, лишение прав, возврат прав.
            </p>
            <button class="btn btn--secondary service-card__btn">Задать вопрос</button>
          </article>
          <article class="service-card">
            <h3 class="service-card__title">Трудовые споры</h3>
            <p class="service-card__text">
              Невыплата зарплаты, незаконное увольнение, защитa трудовых прав.
            </p>
            <button class="btn btn--secondary service-card__btn">Задать вопрос</button>
          </article>
          <article class="service-card">
            <h3 class="service-card__title">Жилищные споры</h3>
            <p class="service-card__text">
              Споры о собственности, регистрации, выселении и праве проживания.
            </p>
            <button class="btn btn--secondary service-card__btn">Задать вопрос</button>
          </article>
          <article class="service-card">
            <h3 class="service-card__title">Наследственные дела</h3>
            <p class="service-card__text">
              Вступление в наследство, восстановление сроков, споры между наследниками.
            </p>
            <button class="btn btn--secondary service-card__btn">Задать вопрос</button>
          </article>
          <article class="service-card">
            <h3 class="service-card__title">Права потребителей</h3>
            <p class="service-card__text">
              Возврат денег за товар и услуги, неустойки и моральный вред.
            </p>
            <button class="btn btn--secondary service-card__btn">Задать вопрос</button>
          </article>
          <article class="service-card">
            <h3 class="service-card__title">Кредитные споры</h3>
            <p class="service-card__text">
              Реструктуризация, отмена судебных приказов, банкротство физлиц.
            </p>
            <button class="btn btn--secondary service-card__btn">Задать вопрос</button>
          </article>
          <article class="service-card">
            <h3 class="service-card__title">Семейные вопросы</h3>
            <p class="service-card__text">
              Развод, раздел имущества, алименты, споры о детях.
            </p>
            <button class="btn btn--secondary service-card__btn">Задать вопрос</button>
          </article>
          <article class="service-card">
            <h3 class="service-card__title">Другой вопрос</h3>
            <p class="service-card__text">
              Если вашей ситуации нет в списке — опишите её, мы подскажем решение.
            </p>
            <button class="btn btn--secondary service-card__btn">Задать вопрос</button>
          </article>
        </div>
      </div>
    </section>

    <section class="section steps">
      <div class="container">
        <h2 class="section__title">Как работаем:</h2>
        <div class="steps__grid">
          <article class="step">
            <div class="step__num">01</div>
            <h3 class="step__title">Оставляете заявку</h3>
            <p class="step__text">
              Через сайт или по телефону — так, как удобно вам.
            </p>
          </article>
          <article class="step">
            <div class="step__num">02</div>
            <h3 class="step__title">Связывается юрист</h3>
            <p class="step__text">
              Уточняет детали и даёт первую консультацию.
            </p>
          </article>
          <article class="step">
            <div class="step__num">03</div>
            <h3 class="step__title">План действий</h3>
            <p class="step__text">
              Если можем помочь — предлагаем понятный план и фиксированную стоимость.
            </p>
          </article>
        </div>
      </div>
    </section>

    <section class="section stats">
      <div class="container">
        <h2 class="section__title">О себе:</h2>
        <div class="stats__grid">
          <div class="stat">
            <div class="stat__value">10+ лет</div>
            <div class="stat__label">опыта в юридической сфере</div>
          </div>
          <div class="stat">
            <div class="stat__value">90%</div>
            <div class="stat__label">дел решаются в пользу клиента</div>
          </div>
          <div class="stat">
            <div class="stat__value">100+</div>
            <div class="stat__label">дел завершено по Нижнему Новгороду и области</div>
          </div>
        </div>
      </div>
    </section>

    <section class="section faq">
      <div class="container">
        <h2 class="section__title">Часто задаваемые вопросы:</h2>
        <div class="faq__list">
          <details class="faq__item">
            <summary class="faq__question">Сколько стоит ваша помощь?</summary>
            <p class="faq__answer">
              Сначала нужно разобраться в вашей ситуации, после чего называем точную стоимость.
              Первая консультация — бесплатно!
            </p>
          </details>
          <details class="faq__item">
            <summary class="faq__question">Вы работаете с клиентами из других городов?</summary>
            <p class="faq__answer">
              Да. Многие вопросы можно решить дистанционно — по телефону, видеосвязи и через
              документы. Возможно вам будет достаточно консультации.
            </p>
          </details>
          <details class="faq__item">
            <summary class="faq__question">Можно ли решить вопрос мирно, без суда?</summary>
            <p class="faq__answer">
              Всегда начинаем с досудебного урегулирования. Если возможно договориться —
              делаем это в ваших интересах.
            </p>
          </details>
          <details class="faq__item">
            <summary class="faq__question">Сколько времени займёт решение моего вопроса?</summary>
            <p class="faq__answer">
              Точно сказать не возможно, зависит от сложности дела, от одного дня до нескольких недель, судебные процессы могут занимать много времени.
            </p>
          </details>
        </div>
      </div>
    </section>

    <section class="section final-cta">
      <div class="container final-cta__inner">
        <div class="final-cta__content">
          <h2 class="section__title">Нужна юридическая помощь?</h2>
          <p class="section__subtitle">
            Просто оставьте заявку — перезвоним в течение 30 минут и обсудим вашу ситуацию.
          </p>
        </div>
        <form class="form final-cta__form">
          <button class="btn btn--primary final-cta__btn" type="button">
            Оставить заявку
          </button>
          <p class="form__consent">
            Нажимая на кнопку, вы даёте согласие на обработку и передачу персональных данных
          </p>
        </form>
      </div>
    </section>
  </main>

  <div class="modal" id="question-modal" aria-hidden="true">
    <div class="modal__backdrop" data-modal-close></div>
    <div class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="question-modal-title">
      <button class="modal__close" type="button" aria-label="Закрыть" data-modal-close>×</button>
      <h2 class="modal__title" id="question-modal-title">Задать вопрос юристу</h2>
      <p class="modal__subtitle">
        Оставьте свои контакты и кратко опишите ситуацию — юрист свяжется с вами и подскажет, что делать.
      </p>
      <form class="form modal-form">
        <label class="form__field">
          <span class="form__label">Имя</span>
          <input class="form__input" type="text" name="name_modal" placeholder="Как к вам обращаться" />
        </label>
        <label class="form__field">
          <span class="form__label">Ваш телефон</span>
          <input
            class="form__input form__input--phone"
            type="tel"
            name="phone_modal"
            placeholder="+7 ___ ___‑__‑__"
            inputmode="numeric"
          />
        </label>
        <label class="form__field">
          <span class="form__label">Вопрос юристу</span>
          <div class="form__counter" id="question-counter">0 / 500</div>
          <textarea
            class="form__input form__input--textarea"
            name="question_modal"
            placeholder="Опишите ситуацию кратко"
            maxlength="500"
          ></textarea>
        </label>
        <button class="btn btn--primary form__submit" type="submit">Отправить</button>
        <p class="form__consent">
          Нажимая на кнопку, вы даёте согласие на обработку и передачу персональных данных
        </p>
      </form>
    </div>
  </div>

  <footer class="footer">
    <div class="container footer__inner">
      <div class="footer__left">
        <div class="footer__title">Контакты: тел. +7 (908) 237‑12‑67</div>
        <div class="footer__address">Адрес офиса: г. Нижний Новгород, ул. Звездинка, 10Б</div>
      </div>
      <div class="footer__right">
        <button type="button" class="footer__link footer__link--policy">
          Политика конфиденциальности
        </button>
        <p class="footer__note">
          Вся информация на сайте не является публичной офертой.<br /><br />
          ИП &laquo;Храмушин Никита Станиславович&raquo;<br />
          ИНН 777777777777
        </p>
      </div>
    </div>
  </footer>

  <div class="modal" id="policy-modal" aria-hidden="true">
    <div class="modal__backdrop" data-modal-close></div>
    <div class="modal__dialog modal__dialog--policy" role="dialog" aria-modal="true" aria-labelledby="policy-modal-title">
      <button class="modal__close" type="button" aria-label="Закрыть" data-modal-close>×</button>
      <h2 class="modal__title" id="policy-modal-title">Политика конфиденциальности</h2>
      <p class="modal__subtitle">Последнее обновление: 24 февраля 2026 года</p>
      <div class="modal__body">
        <h3>1. Общие положения</h3>
        <p>
          Настоящая Политика конфиденциальности описывает порядок обработки и защиты
          персональных данных пользователей сайта. Обработка данных осуществляется
          в соответствии с Федеральным законом РФ №152‑ФЗ «О персональных данных».
        </p>

        <h3>2. Какие данные мы собираем</h3>
        <ul>
          <li>ФИО или имя, указанное в форме;</li>
          <li>Номер телефона и адрес электронной почты;</li>
          <li>Текст обращения / вопроса юристу.</li>
        </ul>
        <p>
          Данные передаются пользователем добровольно при отправке формы обратной связи
          или заявки на консультацию.
        </p>

        <h3>3. Цели обработки персональных данных</h3>
        <ul>
          <li>обработка обращений и заявок пользователей;</li>
          <li>связь с пользователем для уточнения деталей вопроса;</li>
          <li>предоставление консультаций и иной юридической помощи;</li>
          <li>улучшение качества сервиса и работы сайта.</li>
        </ul>

        <h3>4. Правовые основания обработки</h3>
        <p>
          Основанием для обработки данных является согласие пользователя,
          выраженное при отправке любой формы на сайте, а также нормы действующего
          законодательства РФ.
        </p>

        <h3>5. Передача и хранение данных</h3>
        <p>
          Персональные данные не передаются третьим лицам, за исключением случаев,
          когда это необходимо для исполнения требований закона или по прямому согласию пользователя.
        </p>
        <p>
          Срок хранения персональных данных ограничен достижением целей обработки
          либо сроками, предусмотренными законодательством РФ.
        </p>

        <h3>6. Права пользователя</h3>
        <p>Пользователь имеет право:</p>
        <ul>
          <li>запрашивать информацию о своих персональных данных и порядке их обработки;</li>
          <li>требовать уточнения, блокирования или удаления своих данных;</li>
          <li>отозвать согласие на обработку персональных данных, направив соответствующее обращение.</li>
        </ul>

        <h3>7. Контакты по вопросам персональных данных</h3>
        <p>
          По вопросам, связанным с обработкой персональных данных, вы можете обратиться
          через форму обратной связи на сайте или по указанному контактному телефону.
        </p>
      </div>
    </div>
  </div>

  <script>
    (function () {
      function updateStatusColor() {
        var el = document.querySelector('.header__status');
        if (!el) return;
        try {
          var now = new Date();
          var formatter = new Intl.DateTimeFormat('ru-RU', {
            hour: 'numeric',
            hour12: false,
            timeZone: 'Europe/Moscow'
          });
          var parts = formatter.formatToParts(now);
          var hourPart = parts.find(function (p) {
            return p.type === 'hour';
          });
          var hour = hourPart ? parseInt(hourPart.value, 10) : now.getHours();
          var isWorking = hour >= 10 && hour < 20;
          el.classList.toggle('header__status--online', isWorking);
          el.classList.toggle('header__status--offline', !isWorking);
          el.textContent = isWorking
            ? 'Сейчас работаем, звоните'
            : 'В данный момент не работаем, обратитесь в рабочие часы';
        } catch (e) {}
      }

      updateStatusColor();
      setInterval(updateStatusColor, 5 * 60 * 1000);

      var questionModal = document.getElementById('question-modal');
      var questionButtons = document.querySelectorAll(
        '.service-card__btn, .hero__btn, .header__cta, .final-cta__btn'
      );
      var questionTextarea = document.querySelector('textarea[name="question_modal"]');
      var questionCounter = document.getElementById('question-counter');
      var questionMaxLength = 500;
      var questionForm = document.querySelector('.modal-form');
      var phoneInput = document.querySelector('input[name="phone_modal"]');

      function updateQuestionCounter() {
        if (!questionTextarea || !questionCounter) return;
        var len = questionTextarea.value.length || 0;
        if (len > questionMaxLength) len = questionMaxLength;
        questionCounter.textContent = len + ' / ' + questionMaxLength;
      }

      function openQuestionModal() {
        if (!questionModal) return;
        questionModal.classList.add('modal--open');
        questionModal.setAttribute('aria-hidden', 'false');
        updateQuestionCounter();
      }

      function closeQuestionModal() {
        if (!questionModal) return;
        questionModal.classList.remove('modal--open');
        questionModal.setAttribute('aria-hidden', 'true');
        if (questionForm) {
          questionForm.reset();
        }
        updateQuestionCounter();
      }

      if (questionTextarea) {
        questionTextarea.addEventListener('input', updateQuestionCounter);
        updateQuestionCounter();
      }

      if (phoneInput) {
        phoneInput.addEventListener('focus', function () {
          if (!phoneInput.value) {
            phoneInput.value = '+7';
          }
        });

        phoneInput.addEventListener('input', function () {
          var v = phoneInput.value || '';
          v = v.replace(/[^+\d]/g, '');

          if (!v || v === '+' || !v.startsWith('+7')) {
            v = '+7';
          }

          var digits = v.replace(/\D/g, '');
          if (digits.length > 11) {
            digits = digits.slice(0, 11);
          }

          phoneInput.value = '+' + digits;
        });
      }

      if (questionForm) {
        questionForm.addEventListener('submit', function (e) {
          e.preventDefault();
          var name = questionForm.querySelector('input[name="name_modal"]');
          var phone = questionForm.querySelector('input[name="phone_modal"]');
          var questionField = questionTextarea;

          var nameVal = name ? name.value.trim() : '';
          var phoneVal = phone ? phone.value.trim() : '';
          var questionVal = questionField ? questionField.value.trim() : '';

          if (!nameVal || !phoneVal || !questionVal) {
            alert('Пожалуйста, заполните все поля формы.');
            return;
          }

          var telegramUrl = 'https://lawyer-mail-backend.onrender.com/api/send-question';
          fetch(telegramUrl, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              name: nameVal,
              phone: phoneVal,
              question: questionVal
            })
          })
            .then(function (response) {
              if (!response.ok) {
                throw new Error('Ошибка сети или сервера');
              }
              return response.json();
            })
            .then(function (data) {
              if (data && data.success) {
                alert('Ваш вопрос успешно отправлен. Мы свяжемся с вами в ближайшее время.');
                questionForm.reset();
                updateQuestionCounter();
                closeQuestionModal();
              } else {
                alert('Не удалось отправить сообщение. Попробуйте позже.');
              }
            })
            .catch(function () {
              alert('Не удалось отправить сообщение. Попробуйте позже.');
            });
        });
      }

      questionButtons.forEach(function (btn) {
        btn.addEventListener('click', function (e) {
          e.preventDefault();
          openQuestionModal();
        });
      });

      if (questionModal) {
        questionModal.addEventListener('click', function (e) {
          var target = e.target;
          if (target && target.hasAttribute('data-modal-close')) {
            closeQuestionModal();
          }
        });
      }

      var policyModal = document.getElementById('policy-modal');
      var policyLink = document.querySelector('.footer__link--policy');

      function openPolicyModal() {
        if (!policyModal) return;
        policyModal.classList.add('modal--open');
        policyModal.setAttribute('aria-hidden', 'false');
      }

      function closePolicyModal() {
        if (!policyModal) return;
        policyModal.classList.remove('modal--open');
        policyModal.setAttribute('aria-hidden', 'true');
      }

      if (policyLink) {
        policyLink.addEventListener('click', function (e) {
          e.preventDefault();
          openPolicyModal();
        });
      }

      if (policyModal) {
        policyModal.addEventListener('click', function (e) {
          var target = e.target;
          if (target && target.hasAttribute('data-modal-close')) {
            closePolicyModal();
          }
        });
      }

      document.addEventListener('keydown', function (e) {
        if (e.key === 'Escape') {
          closeQuestionModal();
          closePolicyModal();
        }
      });
    })();
  </script>
</body>
</html>

